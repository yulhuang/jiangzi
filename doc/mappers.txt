package com.najiujiangzi.jiangzi.mappers;

import com.najiujiangzi.jiangzi.dto.@dtoName;
import com.najiujiangzi.jiangzi.model.@modelName;
import com.najiujiangzi.jiangzi.util.Page;
import org.apache.ibatis.annotations.Param;
import org.apache.ibatis.annotations.Select;
import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.Update;
import org.apache.ibatis.annotations.Options;

import java.util.List;

public interface @mapperName {

    @Select("<script>" +
            " SELECT * FROM @tableName" +
            " <where>" +
            " 1 = 1" +
@if            " <if test=\"page != null\">LIMIT #{page.startPage}, #{page.pageSize}</if>" +
            " </where>" +
            "</script>")
    List<@modelName> find(@Param("dto") @dtoName dto, @Param("page") Page page);

    @Insert("insert into @tableName(@insertField)  values(@dtoFields)")
    @Options(useGeneratedKeys = true, keyProperty = "id")
    int insert(@modelName model);

    @Update("update @tableName set @set where id=#{id}")
    int update(@dtoName dto);

}
